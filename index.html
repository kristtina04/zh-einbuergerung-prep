<!DOCTYPE html>
<html lang="de">
<head>
<meta charset="UTF-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Zürich Einbürgerung Grundkenntnis Test Vorbereitung</title>
<meta name="description" content="App zum Vorbereiten auf den Zürich Einbürgerung Grundkenntnis Test. Praxisfragen, Statistiken & Lernfortschritt." />
<link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;600;800&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@500;700&display=swap" rel="stylesheet" />
<link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" />
<style>
  /* Reset and base */
  *, *::before, *::after {
    box-sizing: border-box;
  }
  html {
    font-family: 'Inter', 'Poppins', sans-serif;
    font-size: 16px;
    scroll-behavior: smooth;
  }
  body {
    margin: 0;
    background: linear-gradient(135deg, #0f3460 0%, #16213e 100%);
    color: #e0e6f1;
    min-height: 100vh;
    display: flex;
    flex-direction: column;
  }
  a {
    color: #06b6d4;
    text-decoration: none;
    transition: color 0.3s ease;
  }
  a:hover, a:focus {
    color: #8b5cf6;
    outline: none;
  }
  main {
    flex-grow: 1;
    padding: 32px 16px 48px;
    max-width: 1200px;
    margin: 0 auto;
    width: 100%;
  }
  h1, h2, h3 {
    margin: 0 0 24px 0;
  }
  h1 {
    font-family: 'Poppins', sans-serif;
    font-weight: 800;
    font-size: 2.5rem;
    background: linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%);
    -webkit-background-clip: text;
    -webkit-text-fill-color: transparent;
  }
  h2 {
    font-weight: 700;
    font-size: 1.8rem;
    border-bottom: 3px solid #06b6d4;
    padding-bottom: 8px;
  }
  p {
    line-height: 1.6;
    max-width: 700px;
  }
  button {
    cursor: pointer;
    border: none;
    border-radius: 12px;
    padding: 14px 28px;
    font-weight: 600;
    font-size: 1rem;
    background: linear-gradient(135deg, #8b5cf6 0%, #06b6d4 100%);
    color: white;
    transition: transform 0.3s ease, box-shadow 0.3s ease;
    box-shadow: 0 5px 12px rgba(8,27,58,0.75);
  }
  button:hover, button:focus {
    transform: translateY(-3px);
    box-shadow: 0 10px 25px rgba(139, 92, 246, 0.6);
    outline: none;
  }
  /* Container cards - glass morphism */
  .card {
    background: rgba(16, 26, 49, 0.75);
    border-radius: 16px;
    box-shadow: 0 8px 24px rgba(8,27,58,0.7);
    margin-bottom: 32px;
    padding: 24px 32px;
  }
  /* Responsive Header */
  header {
    display: flex;
    align-items: center;
    justify-content: space-between;
    background: rgba(7,18,38,0.95);
    padding: 12px 24px;
    position: sticky;
    top: 0;
    z-index: 1000;
    box-shadow: 0 2px 8px rgba(0,0,0,0.7);
  }
  .logo {
    font-weight: 700;
    font-size: 1.5rem;
    color: #8b5cf6;
    user-select: none;
  }
  nav {
    display: flex;
    gap: 24px;
  }
  nav a {
    font-weight: 600;
    font-size: 1rem;
    padding: 8px 0;
    position: relative;
  }
  nav a.active, nav a:hover, nav a:focus {
    color: #8b5cf6;
  }
  /* Hamburger for mobile */
  .mobile-toggle {
    display: none;
    background: none;
    border: none;
    font-size: 32px;
    color: #8b5cf6;
    cursor: pointer;
    user-select: none;
  }
  /* Navigation mobile slide */
  .nav-mobile {
    display: none;
    flex-direction: column;
    position: fixed;
    top: 60px;
    right: 0;
    width: 260px;
    max-width: 70vw;
    height: calc(100vh - 60px);
    background: rgba(7,18,38,0.98);
    padding: 24px;
    box-shadow: -4px 0 12px rgba(0,0,0,0.9);
    z-index: 1500;
    transform: translateX(100%);
    transition: transform 0.3s ease;
  }
  .nav-mobile.show {
    display: flex;
    transform: translateX(0%);
  }
  .nav-mobile a {
    padding: 16px 0;
    font-size: 1.2rem;
    border-bottom: 1px solid #2a2a5c;
    color: #a0a9c0;
  }
  .nav-mobile a.active {
    color: #8b5cf6;
    font-weight: 700;
    border-color: #8b5cf6;
  }
  /* Responsive Footer */
  footer {
    background: rgba(7,18,38,0.95);
    color: #7f8c8d;
    padding: 24px 20px;
    text-align: center;
    font-size: 0.9rem;
    user-select: none;
  }
  footer a {
    color: #06b6d4;
  }
  /* Stats Grid */
  .stats-grid {
    display: grid;
    grid-template-columns: repeat(auto-fit,minmax(180px,1fr));
    gap: 32px;
    margin-bottom: 32px;
  }
  .stat-card {
    background: rgba(139, 92, 246, 0.15);
    border-radius: 12px;
    padding: 24px 20px;
    text-align: center;
    user-select: none;
  }
  .stat-value {
    font-size: 2rem;
    font-weight: 700;
    color: #8b5cf6;
    margin-bottom: 8px;
  }
  .stat-label {
    font-weight: 500;
    color: #cad6f2;
  }
  /* Questions list */
  .questions-list {
    max-height: 350px;
    overflow-y: auto;
  }
  .question-fail {
    background: #271e47;
    margin-bottom: 12px;
    border-radius: 12px;
    padding: 16px 20px;
    color: #e0e6f1;
  }
  .question-fail strong {
    color: #eab308;
  }
  /* Practice test */
  .practice-container {
    display: flex;
    flex-direction: column;
    gap: 16px;
    max-width: 760px;
    margin: 0 auto;
  }
  .question-text {
    font-weight: 600;
    font-size: 1.2rem;
  }
  .answers-list {
    list-style: none;
    padding: 0;
    margin: 0;
    display: flex;
    flex-direction: column;
    gap: 8px;
  }
  .answers-list button {
    background: rgba(16, 26, 49, 0.75);
    border: 2px solid transparent;
    padding: 12px 20px;
    border-radius: 12px;
    font-size: 1rem;
    color: #e0e6f1;
    text-align: left;
    transition: background-color 0.4s ease, border-color 0.4s ease;
  }
  .answers-list button:hover, .answers-list button:focus {
    background: rgba(139, 92, 246, 0.3);
    border-color: #8b5cf6;
    outline: none;
  }
  .answers-list button.correct {
    background: #16a34a;
    border-color: #22c55e;
    color: #d9f99d;
  }
  .answers-list button.incorrect {
    background: #dc2626;
    border-color: #f87171;
    color: #fee2e2;
  }
  .feedback {
    font-weight: 600;
    font-size: 1.1rem;
    margin-top: 12px;
    color: #a0aec0;
  }
  .feedback.correct {
    color: #22c55e;
  }
  .feedback.incorrect {
    color: #f87171;
  }
  /* End test summary */
  .test-summary {
    margin-top: 32px;
    text-align: center;
  }
  .test-summary h2 {
    margin-bottom: 16px;
  }
  .pass {
    color: #22c55e;
  }
  .fail {
    color: #f87171;
  }
  /* Responsive Layout */
  @media (max-width: 640px) {
    main {
      padding: 24px 12px 32px;
    }
    nav {
      display: none;
    }
    .mobile-toggle {
      display: block;
    }
  }
  @media (min-width: 641px) and (max-width: 1024px) {
    main {
      padding: 32px 24px 48px;
    }
  }
  @media (min-width: 1025px) {
    main {
      padding: 48px 48px 64px;
    }
  }
</style>
</head>
<body>
<header>
  <div class="logo" tabindex="0">Zürich Citizenship Prep</div>
  <nav role="navigation" aria-label="Main navigation">
    <a href="#landing" class="nav-link active" tabindex="0">Start</a>
    <a href="#practice" class="nav-link" tabindex="0">Praxis Test</a>
    <a href="#mistakes" class="nav-link" tabindex="0">Fehler Statistik</a>
    <a href="#resources" class="nav-link" tabindex="0">Materialien</a>
  </nav>
  <button class="material-icons mobile-toggle" aria-label="Menü öffnen" aria-expanded="false" aria-controls="mobile-menu">menu</button>
</header>
<nav id="mobile-menu" class="nav-mobile" aria-label="Mobile navigation">
  <a href="#landing" class="nav-link active" tabindex="0">Start</a>
  <a href="#practice" class="nav-link" tabindex="0">Praxis Test</a>
  <a href="#mistakes" class="nav-link" tabindex="0">Fehler Statistik</a>
  <a href="#resources" class="nav-link" tabindex="0">Materialien</a>
</nav>
<main id="content" tabindex="-1">
  
  <section id="landing" aria-label="Startseite" class="card" tabindex="0">
    <h1>Zürich Einbürgerung Grundkenntnis Test Vorbereitung</h1>
    <p>Willkommen! Bereiten Sie sich auf die Grundkenntnisprüfung für die Einbürgerung in Zürich vor. Nutzen Sie Praxisfragen, offizielle Materialien und erhalten Sie sofortiges Feedback, um Ihre Chancen zu maximieren.</p>
    <div class="stats-grid" aria-live="polite" aria-atomic="true">
      <div class="stat-card" role="region" aria-label="Gesamtzahl Anträge">
        <div class="stat-value" id="stat-applications">10'210</div>
        <div class="stat-label">Anträge in Zürich (2023)</div>
      </div>
      <div class="stat-card" role="region" aria-label="Erfolgsquote">
        <div class="stat-value" id="stat-successrate">78%</div>
        <div class="stat-label">Erfolgsquote</div>
      </div>
      <div class="stat-card" role="region" aria-label="Nutzer insgesamt">
        <div class="stat-value" id="stat-users">1'540</div>
        <div class="stat-label">Nutzer dieser App</div>
      </div>
    </div>
    <div style="margin-top: 32px; text-align:center;">
      <button id="donate-btn" aria-label="Donation unterstützen">Unterstütze die App Entwicklung</button>
    </div>
  </section>

  <section id="practice" aria-label="Praxis Test" class="card" hidden>
    <h2>Praxis Test</h2>
    <div class="practice-container" id="practice-container" aria-live="polite" aria-atomic="true">
      <!-- Questions and answers will be dynamically injected here -->
    </div>
  </section>

  <section id="mistakes" aria-label="Statistik der falschen Antworten" class="card" hidden>
    <h2>Fragen mit den meisten Fehlern</h2>
    <p>Diese Liste zeigt die Fragen, bei denen Nutzer am häufigsten Fehler machen – Üben Sie diese, um nie wieder zu scheitern!</p>
    <div class="questions-list" id="most-failed-questions" tabindex="0" aria-live="polite" aria-atomic="true">
      <!-- Sorted questions by fail count injected here -->
    </div>
    <div style="text-align: center; margin-top: 24px;">
      <button id="practice-mistakes-btn" aria-label="Fehler Fragen üben">Fehler Üben</button>
    </div>
  </section>

  <section id="resources" aria-label="Vorbereitungsmaterialien" class="card" hidden>
    <h2>Vorbereitungs Materialien</h2>
    <p>Hier finden Sie die offiziellen &amp; ergänzenden Materialien für die Grundkenntnisprüfung.</p>
    <ul>
      <li><a href="https://www.zh.ch/de/migration-integration/einbuergerung/grundkenntnistest.html" target="_blank" rel="noopener" aria-label="Grundkenntnistest Kanton Zürich">Grundkenntnistest Kanton Zürich</a></li>
      <li><a href="https://www.zh.ch/content/dam/zhweb/bilder-dokumente/themen/migration-integration/einbuergerung/gkt/broschuere_einbuergerung_grundkenntnistest.pdf" target="_blank" rel="noopener" aria-label="Broschüre für die Einbürgerung">Broschüre für die Einbürgerung</a></li>
      <li><a href="https://www.zh.ch/content/dam/zhweb/bilder-dokumente/themen/migration-integration/einbuergerung/gkt/grundkenntnistest_kanton_zuerich.pdf" target="_blank" rel="noopener" aria-label="Kantonaler Grundkenntnistest im Einbürgerungsverfahren">Kantonaler Grundkenntnistest im Einbürgerungsverfahren</a></li>
    </ul>
  </section>
</main>

<footer>
  <p>© 2024 Zürich Citizenship Prep. Made with care.</p>
</footer>

<script>
  'use strict';

  // Updated question data with 210 questions
  const questionsBank = [
    { id: 1, question: 'Die Schweiz ist neutral. Was heisst das?', answers: ['Sie unterzeichnet keine internationalen Verträge.', 'Sie schliesst nur mit Staaten Verträge, die nicht in Kriege verwickelt sind.', 'Sie mischt sich nicht in bewaffnete Konflikte anderer Staaten ein.', 'Sie will als Transitland wirtschaftlich unabhängig sein.'], correctIndex: 2 },
    { id: 2, question: 'Was ist eine Grenzgängerin oder ein Grenzgänger?', answers: ['eine Person, die in der Schweiz arbeitet und im Ausland wohnt', 'eine Person, die nicht im gleichen Kanton wohnt und arbeitet', 'Schweizer Handelsware, die ins Ausland exportiert wird', 'Schweizer Handelsware, die vom Ausland in die Schweiz importiert wird'], correctIndex: 0 },
    { id: 3, question: 'Confoederatio Helvetica ...', answers: ['ist der Name einer Schweizer Schokolade.', 'ist der lateinische Name für die Schweizer Eidgenossenschaft.', 'ist der Name des ersten Parlaments der Schweiz.', 'ist eine Fraktion des Parlaments.'], correctIndex: 1 },
    { id: 4, question: 'Was ist ein Departement der Bundesverwaltung?', answers: ['Ernährungsdepartement', 'Natur- und Klimadepartement', 'Schul- und Weiterbildungsdepartement', 'Justiz- und Polizeidepartement'], correctIndex: 3 },
    { id: 5, question: 'Zwischen den Mitgliedern des Bundesrats gilt das Kollegialitätsprinzip. Was heisst das?', answers: ['Die Mitglieder des Bundesrates müssen sich gut kennen.', 'Jeder Bundesrat vertritt seine eigenen politischen Meinungen.', 'Alle Mitglieder müssen Entscheide des Bundesrates nach aussen gleich vertreten.', 'Der Bundesrat Entscheidungen mit Abstimmung.'], correctIndex: 2 },
    { id: 6, question: 'Können die Stimmbürgerinnen und Stimmbürger ein neues Gesetz stoppen?', answers: ['Ja - mit einer Initiative', 'Nein - nur der Bundesrat kann Gesetze ändern', 'Nein - nur der Nationalrat kann Gesetze ändern', 'Ja - mit einem Referendum'], correctIndex: 3 },
    { id: 7, question: 'Was macht der Bundeskanzler oder die Bundeskanzlerin der Schweiz?', answers: ['den Bundesrat unterstützen', 'die Schweiz regieren',
